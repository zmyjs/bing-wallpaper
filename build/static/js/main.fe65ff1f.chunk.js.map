{"version":3,"sources":["views/home/index.jsx","utils/api.js","app.jsx","index.js"],"names":["fnBase","bing","Home","state","images","index","this","image","style","bgColor","backgroundImage","url","drk","className","href","src","alt","Date","getFullYear","self","number","URL","window","location","params","n","idx","mkt","nc","now","format","key","searchParams","append","fetch","then","res","json","wallpaper","setState","React","Component","path","component","exact","ReactDOM","render","app","document","getElementById"],"mappings":"2RAGA,IAAMA,EAAS,wDACXC,EAAO,uBA4DIC,E,2MAzDXC,MAAQ,CACJC,OAAQ,GACRC,MAAO,G,wEAGD,IACEF,EAAUG,KAAVH,MAEFI,EAAQJ,EAAMC,OAAOD,EAAME,OAC7BG,EAAQ,GAAIC,EAAU,UAQ1B,OANIF,IACAC,EAAME,gBAAN,cAA+BT,GAA/B,OAAsCM,EAAMI,IAA5C,KACkB,IAAdJ,EAAMK,MACNH,EAAU,aAId,yBAAKI,UAAS,oBAAeJ,GAAWD,MAAOA,GAC3C,0BAAMK,UAAU,WACZ,4DACA,iIACA,4BACI,uBAAGC,KAAK,oDAAR,mCAEJ,sDAEI,uBAAGA,KAAK,YAAYd,EAApB,aAEJ,sDAEI,uBAAGc,KAAK,WAAWd,EAAnB,aAGR,4BAAQa,UAAU,WACd,4DACS,uBAAGC,KAAK,4BAAR,WADT,0DAEY,uBAAGA,KAAMb,GAAT,kBAFZ,sEAIA,uBAAGY,UAAU,QACT,yBAAKE,IAAI,qDAAqDC,IAAI,cAClE,yBAAKD,IAAI,+DAA+DC,IAAI,kBAEhF,oCAAM,IAAIC,MAAOC,cAAjB,Y,0CAOZ,IAAMC,EAAOb,MCzDd,WAA2C,IAAxBc,EAAuB,uDAAd,EAAGf,EAAW,uDAAH,EACpCM,EAAM,IAAIU,IAAI,QAASC,OAAOC,UAC9BC,EAAS,CACXC,EAAGL,EACHM,IAAKrB,EACLsB,IAAK,QACLC,GAAIX,KAAKY,MACTC,OAAQ,MAGZ,IAAK,IAAMC,KAAOP,EACdb,EAAIqB,aAAaC,OAAOF,EAAKP,EAAOO,IAGxC,OAAOG,MAAMvB,GAAKwB,MAAK,SAAAC,GAAG,OAAIA,EAAIC,WD4C9BC,GAAYH,MAAK,SAAUC,GACvBjB,EAAKoB,SAAS,CAAEnC,OAAQgC,EAAIhC,gB,GArDrBoC,IAAMC,WEArB,oBAAC,IAAD,KACI,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOC,KAAK,IAAIC,UAAWzC,EAAM0C,OAAK,MCLlDC,IAASC,OAAOC,EAAKC,SAASC,eAAe,W","file":"static/js/main.fe65ff1f.chunk.js","sourcesContent":["import React from 'react';\r\nimport { wallpaper } from '../../utils/api';\r\n\r\nconst fnBase = 'https://bing-wallpaper.netlify.com/.netlify/functions',\r\n    bing = 'https://www.bing.com';\r\n\r\nclass Home extends React.Component {\r\n    state = {\r\n        images: [],\r\n        index: 0\r\n    }\r\n\r\n    render() {\r\n        const { state } = this;\r\n\r\n        const image = state.images[state.index];\r\n        let style = {}, bgColor = 'bg-dark';\r\n\r\n        if (image) {\r\n            style.backgroundImage = `url(${bing}${image.url})`;\r\n            if (image.drk !== 1)\r\n                bgColor = 'bg-light';\r\n        }\r\n\r\n        return (\r\n            <div className={`view-home ${bgColor}`} style={style}>\r\n                <main className=\"masking\">\r\n                    <h1>Bing每日壁纸</h1>\r\n                    <h2>以支持跨域的方式使用Bing每日壁纸API。</h2>\r\n                    <h3>\r\n                        <a href=\"https://github.com/kobezhu/bing-wallpaper#readme\">文档（GitHub）</a>\r\n                    </h3>\r\n                    <p>\r\n                        完整版：\r\n                        <a href=\"/archive\">{fnBase}/archive</a>\r\n                    </p>\r\n                    <p>\r\n                        精简版：\r\n                        <a href=\"/simple\">{fnBase}/simple</a>\r\n                    </p>\r\n                </main>\r\n                <footer className=\"masking\">\r\n                    <p>\r\n                        网站托管自<a href=\"https://www.netlify.com/\">Netlify</a>。\r\n                        接口所有数据来自<a href={bing}>Microsoft Bing</a>，本站只增加跨域支持。\r\n                    </p>\r\n                    <p className=\"logo\">\r\n                        <img src=\"https://cn.bing.com/sa/simg/bing_p_rr_teal_min.ico\" alt=\"Bing-logo\" />\r\n                        <img src=\"https://www.netlify.com/img/global/favicon/favicon-32x32.png\" alt=\"Netlify-logo\" />\r\n                    </p>\r\n                    <p>© {new Date().getFullYear()} ZMY</p>\r\n                </footer>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    componentDidMount() {\r\n        const self = this;\r\n        wallpaper().then(function (res) {\r\n            self.setState({ images: res.images });\r\n        });\r\n    }\r\n}\r\n\r\nexport default Home;","export function wallpaper(number = 1, index = 0) {\r\n    const url = new URL('/bing', window.location);\r\n    const params = {\r\n        n: number,\r\n        idx: index,\r\n        mkt: 'zh-CN',\r\n        nc: Date.now(),\r\n        format: 'js'\r\n    };\r\n\r\n    for (const key in params) {\r\n        url.searchParams.append(key, params[key]);\r\n    }\r\n\r\n    return fetch(url).then(res => res.json());\r\n}","import React from 'react';\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport './styles/index.scss';\r\nimport Home from './views/home';\r\n\r\nexport default (\r\n    <Router>\r\n        <Switch>\r\n            <Route path=\"/\" component={Home} exact />\r\n        </Switch>\r\n    </Router>\r\n);","import ReactDOM from 'react-dom';\nimport app from './app';\n\nReactDOM.render(app, document.getElementById('root'));"],"sourceRoot":""}